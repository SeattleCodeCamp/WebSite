@model CC.UI.Webhost.Models.ExternalLoginConfirmationViewModel
@{
    ViewBag.Title = "Register";
}
<h2>@ViewBag.Title.</h2>
<h3>Associate your @ViewBag.LoginProvider account.</h3>

@using (Html.BeginForm("ExternalLoginConfirmation", "Account", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
{
    @Html.AntiForgeryToken()

    <h4>Association Form</h4>
    <hr />
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
    <p class="text-info">
        You've successfully authenticated with <strong>@ViewBag.LoginProvider</strong>.
        Please enter a user name for this site below and click the Register button to finish
        logging in.
    </p>
    @Html.ValidationSummary(true, "Registration was unsuccessful.")

    <div class="field-name">
        @Html.LabelFor(m => m.FirstName)
    </div>
    <div class="editor-field">
        @Html.TextBoxFor(m => m.FirstName)
        @Html.ValidationMessageFor(m => m.FirstName)
    </div>

    <div class="field-name">
        @Html.LabelFor(m => m.LastName)
    </div>
    <div class="editor-field">
        @Html.TextBoxFor(m => m.LastName)
        @Html.ValidationMessageFor(m => m.LastName)
    </div>

    <div class="field-name">
        @Html.LabelFor(m => m.Email)
    </div>
    <div class="editor-field">
        @Html.TextBoxFor(m => m.Email, new { @readonly = "readonly" })
        @Html.ValidationMessageFor(m => m.Email)
    </div>

    <div class="field-name">
        @Html.LabelFor(m => m.Location)
    </div>
    <div class="editor-field">
        @Html.TextBoxFor(m => m.Location)
        @Html.ValidationMessageFor(m => m.Location)
    </div>

    <div class="field-name">
        @Html.LabelFor(m => m.TShirtSizeId)
    </div>
    <div class="editor-field">
        @Html.DropDownListFor(m => m.TShirtSizeId, (IEnumerable<SelectListItem>)ViewBag.TShirtSizes)
        @Html.ValidationMessageFor(m => m.TShirtSizeId)
    </div>

    <div class="field-name">
        @Html.LabelFor(m => m.Twitter)
    </div>
    <div class="editor-field">
        @Html.TextBoxFor(m => m.Twitter)
        @Html.ValidationMessageFor(m => m.Twitter)
    </div>

    <div class="field-name">
        @Html.LabelFor(m => m.Avatar)
    </div>

    @Html.HiddenFor(m => m.LoginProvider)

    <div class="editor-field" title="Upload Avatar">
        <p>Use Twitter avatar?&nbsp;<input type="checkbox" id="cbTwitter" name="cbTwitter" checked="checked" /></p>
        <p>or</p>
        <p>
            upload avatar (100px * 100px or similar proportions)<br />
            <input type="file" id="Avatar" name="Avatar" size="23" />
        </p>
    </div>

    <br />

    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <input type="submit" class="btn btn-default" value="Register" />
        </div>
    </div>
}

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/Scripts/jquery.validate.min.js")
    @Scripts.Render("~/Scripts/jquery.validate.unobtrusive.min.js")
}
